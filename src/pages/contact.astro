---
import Layout from '../layouts/Layout.astro';
---

<Layout showNavigation={true}>
  <main class="p-4 md:ml-64 h-auto pt-16">
    <div class="max-w-4xl mx-auto">
      <!-- Header Section -->
      <div class="bg-white/70 dark:bg-primary-900/70 backdrop-blur-sm shadow-lg rounded-xl border border-primary-200 dark:border-primary-700 p-8 mb-8">
        <div class="text-center mb-8">
          <h1 class="text-3xl font-bold text-primary-900 dark:text-primary-100 mb-4 flex items-center justify-center">
            <svg class="w-8 h-8 mr-3 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
            </svg>
            Get In Touch
          </h1>
          <p class="text-lg text-primary-700 dark:text-primary-300 max-w-2xl mx-auto">
            Let's connect! Whether you have a project in mind, want to discuss opportunities, or just want to say hello, I'd love to hear from you.
          </p>
        </div>
      </div>

      <!-- Contact Form Section -->
      <div class="bg-white/70 dark:bg-primary-900/70 backdrop-blur-sm shadow-lg rounded-xl border border-primary-200 dark:border-primary-700 p-8">
        <form
          name="contact"
          method="POST"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="space-y-6"
        >
          <!-- Hidden fields for Netlify -->
          <input type="hidden" name="form-name" value="contact" />
          <div class="hidden">
            <label>Don't fill this out if you're human: <input name="bot-field" /></label>
          </div>

          <!-- Name Field -->
          <div>
            <label for="name" class="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2">
              Full Name *
            </label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full px-4 py-3 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder-primary-500 dark:placeholder-primary-400"
              placeholder="Your full name"
            />
          </div>

          <!-- Email Field -->
          <div>
            <label for="email" class="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2">
              Email Address *
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-3 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder-primary-500 dark:placeholder-primary-400"
              placeholder="your.email@example.com"
            />
          </div>

          <!-- Subject Field -->
          <div>
            <label for="subject" class="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2">
              Subject *
            </label>
            <select
              id="subject"
              name="subject"
              required
              class="w-full px-4 py-3 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100"
            >
              <option value="">Select a subject</option>
              <option value="job-opportunity">Job Opportunity</option>
              <option value="collaboration">Project Collaboration</option>
              <option value="consulting">Consulting Inquiry</option>
              <option value="general">General Question</option>
              <option value="other">Other</option>
            </select>
          </div>

          <!-- Message Field -->
          <div>
            <label for="message" class="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2">
              Message *
            </label>
            <textarea
              id="message"
              name="message"
              rows="6"
              required
              class="w-full px-4 py-3 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder-primary-500 dark:placeholder-primary-400 resize-vertical"
              placeholder="Tell me about your project, opportunity, or question..."
            ></textarea>
          </div>

          <!-- Budget Field (Optional) -->
          <div>
            <label for="budget" class="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2">
              Project Budget (Optional)
            </label>
            <select
              id="budget"
              name="budget"
              class="w-full px-4 py-3 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100"
            >
              <option value="">Not specified</option>
              <option value="under-5k">Under $5,000</option>
              <option value="5k-15k">$5,000 - $15,000</option>
              <option value="15k-50k">$15,000 - $50,000</option>
              <option value="50k-plus">$50,000+</option>
            </select>
          </div>

          <!-- Timeline Field (Optional) -->
          <div>
            <label for="timeline" class="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2">
              Project Timeline (Optional)
            </label>
            <select
              id="timeline"
              name="timeline"
              class="w-full px-4 py-3 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100"
            >
              <option value="">Not specified</option>
              <option value="asap">ASAP</option>
              <option value="1-month">Within 1 month</option>
              <option value="1-3-months">1-3 months</option>
              <option value="3-6-months">3-6 months</option>
              <option value="6-months-plus">6+ months</option>
            </select>
          </div>

          <!-- Submit Button -->
          <div class="pt-4">
            <button
              type="submit"
              class="w-full bg-primary-600 hover:bg-primary-700 dark:bg-primary-700 dark:hover:bg-primary-600 text-white font-medium py-4 px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-primary-900"
            >
              <span class="flex items-center justify-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                  <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                </svg>
                Send Message
              </span>
            </button>
          </div>
        </form>
      </div>

    </div>
  </main>
</Layout>

<script>
  // Form submission handling
  document.querySelector('form[name="contact"]')?.addEventListener('submit', function(e) {
    const submitBtn = e.target.querySelector('button[type="submit"]');
    if (submitBtn) {
      submitBtn.innerHTML = `
        <span class="flex items-center justify-center">
          <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          Sending...
        </span>
      `;
      submitBtn.disabled = true;
    }
  });
</script>